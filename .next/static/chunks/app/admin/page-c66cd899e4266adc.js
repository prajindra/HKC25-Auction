(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(5155),a=s(2115),i=s(1725),n=s(8743);function l(e){let{onLogin:t}=e,[s,i]=(0,a.useState)({username:"",password:""}),[n,l]=(0,a.useState)("");return(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 flex items-center justify-center bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-shield-user-line text-2xl text-white"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Login"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Access auction management panel"})]}),n&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:n}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"admin"===s.username&&"hkc2025"===s.password?t():l("Invalid credentials. Use: admin / hkc2025")},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-user-line text-gray-400"})}),(0,r.jsx)("input",{type:"text",value:s.username,onChange:e=>i(t=>({...t,username:e.target.value})),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"Enter username",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-lock-line text-gray-400"})}),(0,r.jsx)("input",{type:"password",value:s.password,onChange:e=>i(t=>({...t,password:e.target.value})),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"Enter password",required:!0})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-red-600 transition-all transform hover:scale-105 whitespace-nowrap cursor-pointer",children:"Login to Dashboard"})]})]})})}function d(e){let{items:t,onToggleStatus:s,onDeleteItem:i,onUpdateItem:n}=e,[l,d]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!1),[p,b]=(0,a.useState)({title:"",description:"",image:"",startingBid:0,bidIncrement:0,endDate:"",endTime:""}),[g,j]=(0,a.useState)({title:"",description:"",image:"",startingBid:0,bidIncrement:0,endDate:"",endTime:""}),f=()=>{d(null)},y=()=>{c(!1),j({title:"",description:"",image:"",startingBid:0,bidIncrement:0,endDate:"",endTime:""})},N=(e,t)=>{var s;let r=null==(s=e.target.files)?void 0:s[0];if(r){let e=new FileReader;e.onload=e=>{var s;let r=null==(s=e.target)?void 0:s.result;"edit"===t?b(e=>({...e,image:r})):j(e=>({...e,image:r}))},e.readAsDataURL(r)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[m&&(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,r.jsxs)("div",{className:"bg-green-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center space-x-3 animate-fade-in",children:[(0,r.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-check-line text-xl"})}),(0,r.jsx)("span",{className:"font-semibold",children:"Item details saved successfully!"}),(0,r.jsx)("button",{onClick:()=>x(!1),className:"w-6 h-6 flex items-center justify-center hover:bg-green-600 rounded-full transition-colors cursor-pointer",children:(0,r.jsx)("i",{className:"ri-close-line"})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Auction Items"}),(0,r.jsxs)("button",{onClick:()=>c(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold transition-colors whitespace-nowrap cursor-pointer flex items-center space-x-2",children:[(0,r.jsx)("i",{className:"ri-add-line w-5 h-5 flex items-center justify-center"}),(0,r.jsx)("span",{children:"Add New Item"})]})]}),(0,r.jsx)("div",{className:"grid gap-6",children:t.map(e=>(0,r.jsx)("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,r.jsx)("img",{src:e.image,alt:e.title,className:"w-32 h-32 object-cover object-top rounded-xl flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.description})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e.isActive?"Active":"Inactive"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Starting Bid"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-gray-800",children:["RM",e.startingBid]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Current Bid"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-orange-600",children:["RM",e.currentBid]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Total Bids"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:e.totalBids})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Increment"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-gray-800",children:["RM",e.bidIncrement]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-wrap gap-2",children:[(0,r.jsx)("button",{onClick:()=>s(e.id),className:"px-4 py-2 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer ".concat(e.isActive?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:e.isActive?"Stop Auction":"Start Auction"}),(0,r.jsx)("button",{onClick:()=>(e=>{d(e);let t="",s="";if(e.endTime){let r=new Date(e.endTime);t=r.toISOString().split("T")[0],s=r.toTimeString().slice(0,5)}b({title:e.title,description:e.description,image:e.image,startingBid:e.startingBid,bidIncrement:e.bidIncrement,endDate:t,endTime:s})})(e),className:"px-4 py-2 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:"Edit Details"}),(0,r.jsxs)("button",{onClick:()=>(e=>{if(0===e.bids.length)return void alert("No bids to download for this item.");let t=new Blob([[["Item Name","Bidder Name","Email","Phone","Bid Amount","Timestamp"],...e.bids.map(t=>['"'.concat(e.title,'"'),'"'.concat(t.bidderName,'"'),'"'.concat(t.bidderEmail,'"'),'"'.concat(t.bidderPhone,'"'),'"RM'.concat(t.amount,'"'),'"'.concat(t.timestamp.toLocaleString(),'"')])].map(e=>e.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="".concat(e.title.replace(/[^a-zA-Z0-9]/g,"-"),"-bids-").concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)})(e),className:"px-4 py-2 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer flex items-center space-x-2 ".concat(e.bids.length>0?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 cursor-not-allowed"),disabled:0===e.bids.length,children:[(0,r.jsx)("i",{className:"ri-download-line w-4 h-4 flex items-center justify-center"}),(0,r.jsxs)("span",{children:["Download Bids (",e.bids.length,")"]})]}),(0,r.jsx)("button",{onClick:()=>i(e.id),className:"px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:"Delete"})]})]})]})},e.id))}),l&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Edit Item Details"}),(0,r.jsx)("button",{onClick:f,className:"bg-gray-100 hover:bg-gray-200 w-10 h-10 flex items-center justify-center rounded-full transition-colors cursor-pointer",children:(0,r.jsx)("i",{className:"ri-close-line text-xl"})})]}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),l){let e;p.endDate&&p.endTime&&(e=new Date("".concat(p.endDate,"T").concat(p.endTime))),n(l.id,{title:p.title,description:p.description,image:p.image,startingBid:p.startingBid,bidIncrement:p.bidIncrement,endTime:e})}d(null),x(!0),setTimeout(()=>x(!1),3e3)},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Item Title"}),(0,r.jsx)("input",{type:"text",value:p.title,onChange:e=>b(t=>({...t,title:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"Enter item title",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:p.description,onChange:e=>b(t=>({...t,description:e.target.value})),rows:4,maxLength:500,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none resize-none text-sm",placeholder:"Enter item description",required:!0}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[p.description.length,"/500 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Item Image"}),(0,r.jsxs)("div",{className:"space-y-4",children:[p.image&&(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("img",{src:p.image,alt:"Preview",className:"w-full h-48 object-cover object-top rounded-xl border-2 border-gray-200"})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>N(e,"edit"),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm cursor-pointer"})}),(0,r.jsx)("div",{className:"text-gray-400 text-sm flex items-center",children:"or"}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"url",value:p.image,onChange:e=>b(t=>({...t,image:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"Enter image URL"})})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Starting Bid (RM)"}),(0,r.jsx)("input",{type:"number",value:p.startingBid,onChange:e=>b(t=>({...t,startingBid:Number(e.target.value)})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"0",min:"1",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bid Increment (RM)"}),(0,r.jsx)("input",{type:"number",value:p.bidIncrement,onChange:e=>b(t=>({...t,bidIncrement:Number(e.target.value)})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"0",min:"1",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Auction End Time"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"date",value:p.endDate,onChange:e=>b(t=>({...t,endDate:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",min:new Date().toISOString().split("T")[0]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"End Date"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"time",value:p.endTime,onChange:e=>b(t=>({...t,endTime:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"End Time"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Leave empty if you don't want to set an end time. Auction will run indefinitely until manually stopped."})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-6 border border-orange-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800",children:"Current Status"}),l.totalBids>0&&(0,r.jsxs)("button",{type:"button",onClick:()=>{u(!0)},className:"px-4 py-2 bg-red-100 text-red-700 hover:bg-red-200 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer text-sm flex items-center space-x-2",children:[(0,r.jsx)("i",{className:"ri-refresh-line w-4 h-4 flex items-center justify-center"}),(0,r.jsx)("span",{children:"Reset Bids"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Current Bid: "}),(0,r.jsxs)("span",{className:"font-semibold text-orange-600",children:["RM",l.currentBid]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Total Bids: "}),(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:l.totalBids})]})]}),l.endTime&&(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("span",{className:"text-gray-600 text-sm",children:"Current End Time: "}),(0,r.jsx)("span",{className:"font-semibold text-purple-600 text-sm",children:new Date(l.endTime).toLocaleString()})]}),l.totalBids>0&&(0,r.jsx)("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-xs text-yellow-700",children:[(0,r.jsx)("i",{className:"ri-information-line mr-1"}),"Resetting bids will permanently delete all bid history and reset the current bid to the starting bid amount."]})})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:f,className:"flex-1 py-4 px-6 border-2 border-gray-300 text-gray-700 rounded-2xl font-semibold hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 py-4 px-6 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-2xl font-semibold hover:from-orange-600 hover:to-red-600 transition-all transform hover:scale-105 whitespace-nowrap cursor-pointer",children:"Save Changes"})]})]})]})})}),h&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-3xl max-w-md w-full p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 flex items-center justify-center bg-red-100 rounded-full mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-alert-line text-red-600 text-2xl"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Reset All Bids?"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"This will permanently delete all bid history for this item and reset the current bid back to the starting bid amount. This action cannot be undone."}),(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("i",{className:"ri-information-line text-yellow-600 mt-1"}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("p",{className:"text-sm text-yellow-800 font-semibold",children:"Current Status:"}),(0,r.jsxs)("p",{className:"text-sm text-yellow-700",children:["Current Bid: RM",null==l?void 0:l.currentBid," → RM",null==l?void 0:l.startingBid]}),(0,r.jsxs)("p",{className:"text-sm text-yellow-700",children:["Total Bids: ",null==l?void 0:l.totalBids," → 0"]})]})]})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>{u(!1)},className:"flex-1 py-3 px-6 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{l&&(n(l.id,{bids:[],totalBids:0,currentBid:l.startingBid}),u(!1),x(!0),setTimeout(()=>x(!1),3e3))},className:"flex-1 py-3 px-6 bg-red-500 text-white rounded-xl font-semibold hover:bg-red-600 transition-colors whitespace-nowrap cursor-pointer",children:"Reset Bids"})]})]})})}),o&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Add New Auction Item"}),(0,r.jsx)("button",{onClick:y,className:"bg-gray-100 hover:bg-gray-200 w-10 h-10 flex items-center justify-center rounded-full transition-colors cursor-pointer",children:(0,r.jsx)("i",{className:"ri-close-line text-xl"})})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(!1),j({title:"",description:"",image:"",startingBid:0,bidIncrement:0,endDate:"",endTime:""}),alert("New auction item added successfully!")},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Item Title"}),(0,r.jsx)("input",{type:"text",value:g.title,onChange:e=>j(t=>({...t,title:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"Enter item title",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:g.description,onChange:e=>j(t=>({...t,description:e.target.value})),rows:4,maxLength:500,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none resize-none text-sm",placeholder:"Enter item description",required:!0}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[g.description.length,"/500 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Item Image"}),(0,r.jsxs)("div",{className:"space-y-4",children:[g.image&&(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("img",{src:g.image,alt:"Preview",className:"w-full h-48 object-cover object-top rounded-xl border-2 border-gray-200"})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>N(e,"add"),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm cursor-pointer"})}),(0,r.jsx)("div",{className:"text-gray-400 text-sm flex items-center",children:"or"}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"url",value:g.image,onChange:e=>j(t=>({...t,image:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"Enter image URL"})})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Starting Bid (RM)"}),(0,r.jsx)("input",{type:"number",value:g.startingBid,onChange:e=>j(t=>({...t,startingBid:Number(e.target.value)})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"0",min:"1",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bid Increment (RM)"}),(0,r.jsx)("input",{type:"number",value:g.bidIncrement,onChange:e=>j(t=>({...t,bidIncrement:Number(e.target.value)})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",placeholder:"0",min:"1",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Auction End Time (Optional)"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"date",value:g.endDate,onChange:e=>j(t=>({...t,endDate:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm",min:new Date().toISOString().split("T")[0]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"End Date"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"time",value:g.endTime,onChange:e=>j(t=>({...t,endTime:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none text-sm"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"End Time"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Leave empty if you don't want to set an end time. Auction will run indefinitely until manually stopped."})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Item Status"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"New items are created as inactive by default. You can activate them after creation."})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:y,className:"flex-1 py-4 px-6 border-2 border-gray-300 text-gray-700 rounded-2xl font-semibold hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 py-4 px-6 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-2xl font-semibold hover:from-blue-600 hover:to-indigo-600 transition-all transform hover:scale-105 whitespace-nowrap cursor-pointer",children:"Add Item"})]})]})]})})})]})}function o(e){let{items:t}=e,s=t.flatMap(e=>e.bids.map(t=>({...t,timestamp:"string"==typeof t.timestamp?new Date(t.timestamp):t.timestamp,itemTitle:e.title,itemId:e.id}))).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime());return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Bid History"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Total Bids: ",(0,r.jsx)("span",{className:"font-semibold",children:s.length})]})]}),0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 flex items-center justify-center bg-gray-100 rounded-full mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-auction-line text-2xl text-gray-400"})}),(0,r.jsx)("p",{className:"text-xl text-gray-500",children:"No bids placed yet"}),(0,r.jsx)("p",{className:"text-gray-400 mt-2",children:"Bids will appear here as users participate in auctions"})]}):(0,r.jsx)("div",{className:"bg-white rounded-2xl overflow-hidden border border-gray-200",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Item"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Bidder"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Contact"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Bid Amount"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Time"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"font-medium text-gray-800",children:e.itemTitle})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"font-medium text-gray-800",children:e.bidderName})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("div",{children:e.bidderEmail}),(0,r.jsx)("div",{children:e.bidderPhone})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"text-lg font-bold text-orange-600",children:["RM",e.amount.toLocaleString()]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("div",{children:e.timestamp.toLocaleDateString()}),(0,r.jsx)("div",{children:e.timestamp.toLocaleTimeString()})]})})]},e.id))})]})})})]})}var c=s(7621);function m(){let[e,t]=(0,a.useState)("items"),[s,i]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),h=async()=>{try{l(!0),x(null);let e=await (0,c.ue)();i(e)}catch(e){console.error("Error loading auction items:",e),x("Failed to load auction items. Please refresh the page.")}finally{l(!1)}};(0,a.useEffect)(()=>{h()},[]),(0,a.useEffect)(()=>{let e=setInterval(()=>{h()},3e4);return()=>clearInterval(e)},[]);let u=async e=>{try{let t=await (0,c.oP)(e);i(s=>s.map(s=>s.id===e?t:s))}catch(e){console.error("Error toggling item status:",e),alert("Failed to toggle item status. Please try again.")}},p=async e=>{if(confirm("Are you sure you want to delete this auction item? This action cannot be undone."))try{await (0,c.sj)(e),i(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting item:",e),alert("Failed to delete item. Please try again.")}},b=async(e,t)=>{try{let s=await (0,c.O9)(e,t);i(t=>t.map(t=>t.id===e?s:t))}catch(e){throw console.error("Error updating item:",e),alert("Failed to update item. Please try again."),e}},g=s.filter(e=>e.isActive).length,j=s.reduce((e,t)=>e+t.totalBids,0),f=s.reduce((e,t)=>e+t.currentBid,0);return(0,r.jsx)("div",{className:"space-y-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-800",children:"Admin Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage HKC 25 auction items and monitor bidding activity"})]}),(0,r.jsxs)("button",{onClick:()=>{let e=s.flatMap(e=>e.bids.map(t=>({itemTitle:e.title,bidderName:t.bidderName,bidderEmail:t.bidderEmail,bidderPhone:t.bidderPhone,bidAmount:t.amount,timestamp:t.timestamp.toLocaleString()})));if(0===e.length)return void alert("No bids available to export. Please wait for users to place bids first.");let t=new Blob([[["Item Name","Bidder Name","Email","Phone","Bid Amount","Timestamp"],...e.map(e=>['"'.concat(e.itemTitle,'"'),'"'.concat(e.bidderName,'"'),'"'.concat(e.bidderEmail,'"'),'"'.concat(e.bidderPhone,'"'),'"RM'.concat(e.bidAmount,'"'),'"'.concat(e.timestamp,'"')])].map(e=>e.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="hkc25-auction-bids-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)},className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-xl font-semibold transition-colors whitespace-nowrap cursor-pointer flex items-center space-x-2",disabled:n,children:[(0,r.jsx)("i",{className:"ri-download-line w-5 h-5 flex items-center justify-center"}),(0,r.jsx)("span",{children:"Export CSV"})]})]}),n&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard data..."})]}),m&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl max-w-md mx-auto",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Error"}),(0,r.jsx)("p",{className:"text-sm",children:m}),(0,r.jsx)("button",{onClick:h,className:"mt-3 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Retry"})]})}),!n&&!m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-blue-600 font-semibold",children:"Total Items"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-blue-800",children:s.length})]}),(0,r.jsx)("div",{className:"w-12 h-12 flex items-center justify-center bg-blue-500 rounded-full",children:(0,r.jsx)("i",{className:"ri-auction-line text-white text-xl"})})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-green-600 font-semibold",children:"Active Auctions"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-800",children:g})]}),(0,r.jsx)("div",{className:"w-12 h-12 flex items-center justify-center bg-green-500 rounded-full",children:(0,r.jsx)("i",{className:"ri-play-circle-line text-white text-xl"})})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-6 border border-orange-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-orange-600 font-semibold",children:"Total Bids"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-800",children:j})]}),(0,r.jsx)("div",{className:"w-12 h-12 flex items-center justify-center bg-orange-500 rounded-full",children:(0,r.jsx)("i",{className:"ri-hand-heart-line text-white text-xl"})})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-purple-600 font-semibold",children:"Total Value"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-purple-800",children:["RM",f.toLocaleString()]})]}),(0,r.jsx)("div",{className:"w-12 h-12 flex items-center justify-center bg-purple-500 rounded-full",children:(0,r.jsx)("i",{className:"ri-money-dollar-circle-line text-white text-xl"})})]})})]}),(0,r.jsxs)("div",{className:"flex space-x-2 mb-8",children:[(0,r.jsx)("button",{onClick:()=>t("items"),className:"px-6 py-3 rounded-full font-semibold transition-all whitespace-nowrap cursor-pointer ".concat("items"===e?"bg-gradient-to-r from-orange-500 to-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Item Management"}),(0,r.jsx)("button",{onClick:()=>t("bids"),className:"px-6 py-3 rounded-full font-semibold transition-all whitespace-nowrap cursor-pointer ".concat("bids"===e?"bg-gradient-to-r from-orange-500 to-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Bid History"})]}),"items"===e?(0,r.jsx)(d,{items:s,onToggleStatus:u,onDeleteItem:p,onUpdateItem:b}):(0,r.jsx)(o,{items:s})]})]})})}function x(){let[e,t]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("main",{className:"container mx-auto px-4 py-12",children:e?(0,r.jsx)(m,{}):(0,r.jsx)(l,{onLogin:()=>t(!0)})}),(0,r.jsx)(n.A,{})]})}},1725:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(5155),a=s(2619),i=s.n(a);function n(){return(0,r.jsx)("header",{className:"bg-gradient-to-r from-orange-400 to-red-500 text-white shadow-lg",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("img",{src:"https://static.readdy.ai/image/465851cfd5d255a5b0940b68d8aff6fb/a11ac8ae6de3f3921130eca1b9b085d3.png",alt:"HKC Malaysia Let's GAURA! 2025",className:"w-16 h-16 object-contain"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Online Auction"}),(0,r.jsx)("p",{className:"text-orange-100 text-sm",children:"Support the Mission"})]})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,r.jsx)(i(),{href:"/",className:"hover:text-orange-200 transition-colors",children:"Auction Items"}),(0,r.jsx)(i(),{href:"/admin",className:"hover:text-orange-200 transition-colors",children:"Admin Login"}),(0,r.jsx)(i(),{href:"/donate",className:"bg-white text-orange-500 px-4 py-2 rounded-full font-semibold hover:bg-orange-50 transition-colors whitespace-nowrap",children:"Donate Now"})]}),(0,r.jsx)("button",{className:"md:hidden w-6 h-6 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-menu-line text-2xl"})})]})})})}},7196:(e,t,s)=>{Promise.resolve().then(s.bind(s,1349))},7621:(e,t,s)=>{"use strict";s.d(t,{B$:()=>d,O9:()=>i,oP:()=>l,sj:()=>n,ue:()=>a});let r="/api/auction";async function a(){try{var e;let t=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();if(!s.success)throw Error(s.error||"Failed to fetch auction items");return(null==(e=s.data)?void 0:e.map(e=>({...e,endTime:e.endTime?new Date(e.endTime):void 0,bids:e.bids.map(e=>({...e,timestamp:new Date(e.timestamp)}))})))||[]}catch(e){throw console.error("Error fetching auction items:",e),e}}async function i(e,t){try{let s=await fetch("".concat(r,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.json();if(!a.success)throw Error(a.error||"Failed to update auction item");if(!a.data)throw Error("No data received");return{...a.data,endTime:a.data.endTime?new Date(a.data.endTime):void 0,bids:a.data.bids.map(e=>({...e,timestamp:new Date(e.timestamp)}))}}catch(e){throw console.error("Error updating auction item:",e),e}}async function n(e){try{let t=await fetch("".concat(r,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}),s=await t.json();if(!s.success)throw Error(s.error||"Failed to delete auction item")}catch(e){throw console.error("Error deleting auction item:",e),e}}async function l(e){try{let t=await fetch("".concat(r,"/").concat(e,"/toggle"),{method:"POST",headers:{"Content-Type":"application/json"}}),s=await t.json();if(!s.success)throw Error(s.error||"Failed to toggle auction status");if(!s.data)throw Error("No data received");return{...s.data,endTime:s.data.endTime?new Date(s.data.endTime):void 0,bids:s.data.bids.map(e=>({...e,timestamp:new Date(e.timestamp)}))}}catch(e){throw console.error("Error toggling auction status:",e),e}}async function d(e,t){try{let s=await fetch("".concat(r,"/").concat(e,"/bid"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.json();if(!a.success)throw Error(a.error||"Failed to place bid");if(!a.data)throw Error("No data received");return{...a.data,endTime:a.data.endTime?new Date(a.data.endTime):void 0,bids:a.data.bids.map(e=>({...e,timestamp:new Date(e.timestamp)}))}}catch(e){throw console.error("Error placing bid:",e),e}}},8743:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(5155);function a(){return(0,r.jsx)("footer",{className:"bg-amber-900 text-amber-100 py-12 mt-16",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-white",children:"HKC 25 Auction"}),(0,r.jsx)("p",{className:"text-amber-200 leading-relaxed",children:"Every bid is more than just an offering — it's a step toward sharing Krishna consciousness with the world. By participating in the HKC Auction, you not only receive exclusive items but also contribute directly to sustaining and expanding spiritual outreach programs."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold mb-4 text-white",children:"Contact Information"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("i",{className:"ri-mail-line w-4 h-4 flex items-center justify-center"}),(0,r.jsx)("span",{children:"bhakti2u.malaysia@gmail.com"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("i",{className:"ri-map-pin-line w-4 h-4 flex items-center justify-center"}),(0,r.jsx)("span",{children:"Sri Sri Radha Krishna Kanhaiya temple, Seberang Prai"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold mb-4 text-white",children:"Support the Mission"}),(0,r.jsx)("p",{className:"text-amber-200 mb-4",children:"Beyond auction participation, you can directly support our cause."}),(0,r.jsx)("a",{href:"/donate",className:"inline-block bg-orange-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-orange-600 transition-colors whitespace-nowrap",children:"Donation Portal"})]})]}),(0,r.jsx)("div",{className:"border-t border-amber-800 mt-8 pt-8 text-center",children:(0,r.jsx)("p",{className:"text-amber-300",children:"\xa9 2025 Hare Krishna Convention. All rights reserved. | Built with devotion for the divine mission."})})]})})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=7196)),_N_E=e.O()}]);